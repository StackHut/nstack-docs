<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Client-side Libraries &mdash; StackHut 0.1.x documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="StackHut 0.1.x documentation" href="../index.html" />
    <link rel="up" title="Using a Service" href="index.html" />
    <link rel="next" title="Direct JSON-RPC Usage" href="json_rpc.html" />
    <link rel="prev" title="General Usage Notes" href="general.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="client-side-libraries">
<span id="using-client-libs"></span><h1>Client-side Libraries<a class="headerlink" href="#client-side-libraries" title="Permalink to this headline">¶</a></h1>
<p>Client-side libraries are have been/or are under development for the following platforms, please feel free to add support for your favourite language if not present, it&#8217;s quite easy!</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="34%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Langauge</th>
<th class="head">Install</th>
<th class="head">Source Code</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Python</td>
<td>pip3 install stackhut-client</td>
<td><a class="reference external" href="http://www.github.com/StackHut/client-python">http://www.github.com/StackHut/client-python</a></td>
</tr>
<tr class="row-odd"><td>JavaScript</td>
<td>npm install stackhut-client</td>
<td><a class="reference external" href="http://www.github.com/StackHut/client-node">http://www.github.com/StackHut/client-node</a></td>
</tr>
<tr class="row-even"><td>Ruby</td>
<td><em>under development</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>PHP</td>
<td><em>under development</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>Java/JVM</td>
<td><em>under development</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>C#/.NET</td>
<td><em>under development</em></td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>These libraries abstract away the entire JSON-RPC mechanism and make it as easy as calling a function to utilise a StackHut service. They marshal the data, collect the response, handling error messages along the way, and check the validity of the message before it&#8217;s sent. For example, in the following code we create a service object to use an existing service called <cite>demo-nodejs</cite> by the user <cite>stackhut</cite>. Using this object we can call any functions on any interfaces exposed by the hosted <cite>stackhut/demo-nodejs</cite> service,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">stackhut_client</span> <span class="kn">as</span> <span class="nn">client</span>
<span class="n">service</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">SHService</span><span class="p">(</span><span class="s">&#39;stackhut&#39;</span><span class="p">,</span> <span class="s">&#39;web-tools&#39;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">Default</span><span class="o">.</span><span class="n">renderWebpage</span><span class="p">(</span><span class="s">&#39;http://www.stackhut.com&#39;</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">768</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">stackhut</span><span class="o">-</span><span class="n">files</span><span class="o">.</span><span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">stackhut</span><span class="o">/</span><span class="n">downloads</span><span class="o">/</span><span class="n">a77d49f6</span><span class="o">-</span><span class="n">af7d</span><span class="o">-</span><span class="mi">4007</span><span class="o">-</span><span class="mi">8630</span><span class="o">-</span><span class="n">f6f443de7680</span><span class="o">/</span><span class="mi">5</span><span class="n">c77d73b</span><span class="o">-</span><span class="mi">9</span><span class="n">c8c</span><span class="o">-</span><span class="mi">4850</span><span class="o">-</span><span class="mi">84</span><span class="n">eb</span><span class="o">-</span><span class="mi">9196</span><span class="n">b19fb545</span><span class="o">/</span><span class="n">screen</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<div class="section" id="client-libraries-api">
<h2>Client libraries API<a class="headerlink" href="#client-libraries-api" title="Permalink to this headline">¶</a></h2>
<p>The the general behaviour of the client libraries is similar in all languages and we describe it below using the Python client-library as a reference.
There are 3 main classes in the library,</p>
<div class="section" id="shservice">
<h3>SHService<a class="headerlink" href="#shservice" title="Permalink to this headline">¶</a></h3>
<p>The main class representing a single StackHut service. It takes several parameters on construction, where those in square brackets are optional,</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">stackhut_client</span> <span class="kn">as</span> <span class="nn">client</span>
<span class="n">client</span><span class="o">.</span><span class="n">SHService</span><span class="p">(</span><span class="n">author</span><span class="p">,</span> <span class="n">service_name</span><span class="p">,</span> <span class="p">[</span><span class="n">service_version</span><span class="p">],</span> <span class="p">[</span><span class="n">auth</span><span class="p">],</span> <span class="p">[</span><span class="n">host</span><span class="p">])</span>
</pre></div>
</div>
<ul class="simple">
<li>author - The author of the service</li>
<li>service_name - The service name</li>
<li>version - The specific version of the service (is <cite>latest</cite> if left blank)</li>
<li>auth - An <cite>SHAuth</cite> object used to authenticate requests for private services</li>
<li>host - URL for the StackHut API server, can be set to point to local servers during development, is <cite>https://api.stackhut.com</cite> if left blank</li>
</ul>
<p>To make a remote call, just call the interface and method name on the service object, e.g.,</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">Interface</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="shauth">
<h3>SHAuth<a class="headerlink" href="#shauth" title="Permalink to this headline">¶</a></h3>
<p>An optional class used to authenticate requests to a service, passed to a service on construction,</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">client</span><span class="o">.</span><span class="n">SHAuth</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="p">[</span><span class="nb">hash</span><span class="p">],</span> <span class="p">[</span><span class="n">token</span><span class="p">])</span>
</pre></div>
</div>
<ul class="simple">
<li>user - Username of a registered StackHut user</li>
<li>hash - Hash of the user&#8217;s password (you can find this in ~/.stackhut.cfg). Be careful not to use in public-accessible code</li>
<li>token - A valid API token created for the user</li>
</ul>
<p>One of <cite>hash</cite> or <cite>token</cite> must be present in the <cite>auth</cite> object to authorise a request by the given user.</p>
</div>
<div class="section" id="sherror">
<h3>SHError<a class="headerlink" href="#sherror" title="Permalink to this headline">¶</a></h3>
<p>Returned in the event of a remote service error as an exception/error depending on the specific client library.</p>
<p>The object has 3 parameters,</p>
<ul class="simple">
<li>code - A JSON-RPC error code</li>
<li>message - A string describing the error</li>
<li>data - An optional object that may contain additional structured data for handling the error</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Client-side Libraries</a><ul>
<li><a class="reference internal" href="#client-libraries-api">Client libraries API</a><ul>
<li><a class="reference internal" href="#shservice">SHService</a></li>
<li><a class="reference internal" href="#shauth">SHAuth</a></li>
<li><a class="reference internal" href="#sherror">SHError</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Using a Service</a><ul>
      <li>Previous: <a href="general.html" title="previous chapter">General Usage Notes</a></li>
      <li>Next: <a href="json_rpc.html" title="next chapter">Direct JSON-RPC Usage</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/using_service/client_libs.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, StackHut.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/using_service/client_libs.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>